window.Pagy=(()=>{const Y=sessionStorage,j=new BroadcastChannel("pagy"),x=Date.now();j.addEventListener("message",(z)=>{if(z.data.from){const A=Y.getItem(z.data.key);if(A)j.postMessage({to:z.data.from,key:z.data.key,cutoffs:A})}else if(z.data.to){if(z.data.to==x)Y.setItem(z.data.key,z.data.cutoffs)}});const U=new ResizeObserver((z)=>z.forEach((A)=>{A.target.querySelectorAll(".pagy-rjs").forEach((D)=>D.pagyRender()),A.target.querySelectorAll(".pagy-keyset").forEach((D)=>D.completeUrls())})),$={encode:(z)=>btoa(String.fromCharCode(...new TextEncoder().encode(z))),toSafe:(z)=>z.replace(/=/g,"").replace(/[+/]/g,(A)=>A=="+"?"-":"_"),safeEncode:(z)=>$.toSafe($.encode(z)),decode:(z)=>new TextDecoder().decode(Uint8Array.from(atob(z),(A)=>A.charCodeAt(0)))},C=(z,[A])=>{N(z,A)},N=async(z,A)=>{if(!A||!Array.isArray(A.update)||!A.cutoffs_param||!A.page_param)return;const D=document.cookie.split(/;\s+/).find((L)=>L.startsWith("pagy="))?.split("=")[1]||Math.floor(Math.random()*46656).toString(36);document.cookie="pagy="+D;let[B,E,G]=A.update;if(B&&!(B in Y))j.postMessage({from:x,key:B}),await new Promise((L)=>setTimeout(()=>L(""),100));B||="pagy-"+Date.now().toString(36);const R=Y.getItem(B),K=R?JSON.parse(R):[null];if(E&&G)K[E]=G,Y.setItem(B,JSON.stringify(K));(z.completeUrls=()=>{for(let L of z.querySelectorAll("a[href]")){const H=L.href,M=new RegExp(`(?<=\\?.*)\\b${A.page_param}=([\\d]+)`),Q=parseInt(H.match(M)?.[1]),Z=$.safeEncode(JSON.stringify([D,B,K.length,K[Q-1],K[Q]]));L.href=H+`&${A.cutoffs_param}=${Z}`}})()},W=(z,[A,D,B,E])=>{const G=z.parentElement??z,R=Object.keys(D).map((H)=>parseInt(H)).sort((H,M)=>M-H);let K=-1;const L=(H,M,Q)=>H.replace(/__pagy_page__/g,M).replace(/__pagy_label__/g,Q);if((z.pagyRender=()=>{const H=R.find((T)=>T<G.clientWidth)||0;if(H===K)return;let M=A.before;const Q=D[H.toString()],Z=B?.[H.toString()]??Q.map((T)=>T.toString());Q.forEach((T,q)=>{const P=Z[q];let X;if(typeof T=="number"){if(X=L(A.a,T.toString(),P),typeof E?.page_param=="string"&&T==1)X=O(X,E.page_param)}else if(T=="gap")X=A.gap;else X=L(A.current,T,P);M+=X}),M+=A.after,z.innerHTML="",z.insertAdjacentHTML("afterbegin",M),K=H})(),z.classList.contains("pagy-rjs"))U.observe(G)},J=(z,[A,D])=>F(z,(B)=>[B,A.replace(/__pagy_page__/,B)],D),_=(z,[A,D,B])=>{F(z,(E)=>{const G=Math.max(Math.ceil(A/parseInt(E)),1).toString(),R=D.replace(/__pagy_page__/,G).replace(/__pagy_limit__/,E);return[G,R]},B)},F=(z,A,D)=>{const B=z.querySelector("input"),E=z.querySelector("a"),G=B.value,R=()=>{if(B.value===G)return;const[K,L,H]=[B.min,B.value,B.max].map((Z)=>parseInt(Z)||0);if(L<K||L>H){B.value=G,B.select();return}let[M,Q]=A(B.value);if(typeof D?.page_param=="string"&&M==="1")Q=O(Q,D.page_param);E.href=Q,E.click()};["change","focus"].forEach((K)=>B.addEventListener(K,()=>B.select())),B.addEventListener("focusout",R),B.addEventListener("keypress",(K)=>{if(K.key=="Enter")R()})},O=(z,A)=>z.replace(new RegExp(`[?&]${A}=1\\b(?!&)|\\b${A}=1&`),"");return{version:"9.3.3",init(z){const D=(z instanceof Element?z:document).querySelectorAll("[data-pagy]");for(let B of D)try{const[E,...G]=JSON.parse($.decode(B.getAttribute("data-pagy")));if(E=="nav")C(B,G);else if(E=="nav_js")W(B,G);else if(E=="combo_js")J(B,G);else if(E=="selector_js")_(B,G)}catch(E){console.warn("Failed Pagy.init(): %o\n%s",B,E)}}}})();

//# debugId=9AB674AC438688CC64756E2164756E21
//# sourceMappingURL=pagy.min.js.map
