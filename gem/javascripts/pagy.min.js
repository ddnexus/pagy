window.Pagy=(()=>{const F=new ResizeObserver((D)=>D.forEach((z)=>z.target.querySelectorAll(".pagy-rjs").forEach((R)=>R.pagyRender()))),C={encode:(D)=>btoa(String.fromCharCode(...new TextEncoder().encode(D))),toSafe:(D)=>D.replace(/=/g,"").replace(/[+/]/g,(z)=>z=="+"?"-":"_"),safeEncode:(D)=>C.toSafe(C.encode(D)),decode:(D)=>new TextDecoder().decode(Uint8Array.from(atob(D),(z)=>z.charCodeAt(0)))},N=(D,[z])=>{U(D,z)},U=(D,z)=>{if(history.replaceState(null,null,location.href.replace(/&?cutoffs=.*$/,"")),z===void 0||!Array.isArray(z.update))return;if(typeof z.cutoffs_param!=="string"||typeof z.page_param!=="string"){console.warn("Failed Pagy.initKeysetForUI():%o\n bad opts \n%o",D,z);return}const R="pagy-";let[B,G]=z.update;if(B===null)B=R+Date.now().toString(36);const M=sessionStorage.getItem(B),L=M===null?{}:JSON.parse(M);if(G!==void 0){const[H,E,Q]=G;if(H==="add")L[E.toString()]=Q;sessionStorage.setItem(B,JSON.stringify(L)),console.warn("%o \n",L)}const{cutoffs_param:X,page_param:Y}=z;D.addEventListener("click",(H)=>{const E=H.target;if(E&&E.nodeName=="A"&&E.href!==void 0){const Q=E.href,Z=new RegExp(`(?<=\\?.*)${Y}=([\\d]+)`),T=Q.match(Z)?.[1];if(typeof T!=="string")return;const $=parseInt(T),K=C.safeEncode(JSON.stringify([B,Object.keys(L).length+1,L[($-1).toString()],L[$.toString()]]));E.href=Q+(Q.match(/\?/)===null?"?":"&")+`${X}=${K}`}})},S=(D,z)=>{if(z===void 0||!Array.isArray(z.update))return;if(typeof z.cutoffs_param!=="string"||typeof z.page_param!=="string"){console.warn("Failed Pagy.initKeysetForUI():%o\n bad opts \n%o",D,z);return}const R="pagy-";let[B,G]=z.update;if(B===null)B=R+Date.now().toString(36);const M=sessionStorage.getItem(B),L=M===null?{}:JSON.parse(M);if(G!==void 0){const[H,E,Q]=G;if(H==="add")L[E.toString()]=Q;sessionStorage.setItem(B,JSON.stringify(L)),console.warn("%o \n",L)}const{cutoffs_param:X,page_param:Y}=z;for(let H of D.querySelectorAll("a[href]")){const E=H.href,Q=new RegExp(`(?<=\\?.*)${Y}=([\\d]+)`),Z=E.match(Q)?.[1];if(typeof Z!=="string")return;const T=parseInt(Z),$=C.safeEncode(JSON.stringify([B,Object.keys(L).length+1,L[(T-1).toString()],L[T.toString()]]));H.href=E+(E.match(/\?/)===null?"?":"&")+`${X}=${$}`}},W=(D,[z,R,B,G])=>{const M=D.parentElement??D,L=Object.keys(R).map((H)=>parseInt(H)).sort((H,E)=>E-H);let X=-1;const Y=(H,E,Q)=>H.replace(/__pagy_page__/g,E).replace(/__pagy_label__/g,Q);if((D.pagyRender=function(){const H=L.find((T)=>T<M.clientWidth)||0;if(H===X)return;let E=z.before;const Q=R[H.toString()],Z=B?.[H.toString()]??Q.map((T)=>T.toString());Q.forEach((T,$)=>{const K=Z[$];let j;if(typeof T==="number"){if(j=Y(z.a,T.toString(),K),typeof G?.page_param==="string"&&T===1)j=P(j,G.page_param)}else if(T==="gap")j=z.gap;else j=Y(z.current,T,K);E+=j}),E+=z.after,D.innerHTML="",D.insertAdjacentHTML("afterbegin",E),X=H})(),D.classList.contains("pagy-rjs"))F.observe(M)},x=(D,[z,R])=>O(D,(B)=>[B,z.replace(/__pagy_page__/,B)],R),J=(D,[z,R,B])=>{O(D,(G)=>{const M=Math.max(Math.ceil(z/parseInt(G)),1).toString(),L=R.replace(/__pagy_page__/,M).replace(/__pagy_limit__/,G);return[M,L]},B)},O=(D,z,R)=>{const B=D.querySelector("input"),G=D.querySelector("a"),M=B.value,L=function(){if(B.value===M)return;const[X,Y,H]=[B.min,B.value,B.max].map((Z)=>parseInt(Z)||0);if(Y<X||Y>H){B.value=M,B.select();return}let[E,Q]=z(B.value);if(typeof R?.page_param==="string"&&E==="1")Q=P(Q,R.page_param);G.href=Q,G.click()};["change","focus"].forEach((X)=>B.addEventListener(X,()=>B.select())),B.addEventListener("focusout",L),B.addEventListener("keypress",(X)=>{if(X.key==="Enter")L()})},P=(D,z)=>D.replace(new RegExp(`[?&]${z}=1\\b(?!&)|\\b${z}=1&`),"");return{version:"9.3.3",init(D){const R=(D instanceof Element?D:document).querySelectorAll("[data-pagy]");for(let B of R)try{const[G,...M]=JSON.parse(C.decode(B.getAttribute("data-pagy")));if(G==="nav")N(B,M);else if(G==="nav_js")W(B,M);else if(G==="combo_js")x(B,M);else if(G==="selector_js")J(B,M)}catch(G){console.warn("Failed Pagy.init(): %o\n%s",B,G)}}}})();

//# debugId=BF498241EB0F3F1F64756E2164756E21
//# sourceMappingURL=pagy.min.js.map
