window.Pagy=(()=>{const O=new ResizeObserver((z)=>z.forEach((B)=>B.target.querySelectorAll(".pagy-rjs").forEach((M)=>M.pagyRender()))),$={encode:(z)=>btoa(String.fromCharCode(...new TextEncoder().encode(z))),toSafe:(z)=>z.replace(/=/g,"").replace(/[+/]/g,(B)=>B=="+"?"-":"_"),safeEncode:(z)=>$.toSafe($.encode(z)),decode:(z)=>new TextDecoder().decode(Uint8Array.from(atob(z),(B)=>B.charCodeAt(0)))},W=(z,[B])=>{A(z,B)},A=(z,B)=>{if(B===void 0||!Array.isArray(B.update))return;if(typeof B.cutoffs_param!=="string"||typeof B.page_param!=="string"){console.warn("Skipped Pagy.initKeysetForUI():%o\n bad opts \n%o",z,B);return}const[M,D]=B.update;let E=M;if(E===null){let G=sessionStorage.getItem("maxKey");if(G===null)G="0";const H=parseInt(G)+1;sessionStorage.setItem("maxKey",H.toString()),E=H.toString(36)}const L=sessionStorage.getItem(E),P=L===null?[null]:JSON.parse(L);if(D!==void 0)P.splice(...D),sessionStorage.setItem(E,JSON.stringify(P));const{cutoffs_param:T,page_param:X}=B;z.addEventListener("click",(G)=>{const H=G.target;if(H&&H.nodeName=="A"&&H.href!==void 0){const Q=H.href,Z=new RegExp(`(?<=\\?.*)${X}=([\\d]+)`),R=Q.match(Z)?.[1];if(typeof R!=="string")return;const j=parseInt(R),C=$.safeEncode(JSON.stringify([E,P.length,P[j-1],P[j]]));H.href=Q+(Q.match(/\?/)===null?"?":"&")+`${T}=${C}`}})},N=(z,[B,M,D,E])=>{const L=z.parentElement??z,P=Object.keys(M).map((G)=>parseInt(G)).sort((G,H)=>H-G);let T=-1;const X=(G,H,Q)=>G.replace(/__pagy_page__/g,H).replace(/__pagy_label__/g,Q);if((z.pagyRender=function(){const G=P.find((R)=>R<L.clientWidth)||0;if(G===T)return;let H=B.before;const Q=M[G.toString()],Z=D?.[G.toString()]??Q.map((R)=>R.toString());Q.forEach((R,j)=>{const C=Z[j];let Y;if(typeof R==="number"){if(Y=X(B.a,R.toString(),C),typeof E?.page_param==="string"&&R===1)Y=U(Y,E.page_param)}else if(R==="gap")Y=B.gap;else Y=X(B.current,R,C);H+=Y}),H+=B.after,z.innerHTML="",z.insertAdjacentHTML("afterbegin",H),T=G})(),z.classList.contains("pagy-rjs"))O.observe(L)},x=(z,[B,M])=>F(z,(D)=>[D,B.replace(/__pagy_page__/,D)],M),J=(z,[B,M,D])=>{F(z,(E)=>{const L=Math.max(Math.ceil(B/parseInt(E)),1).toString(),P=M.replace(/__pagy_page__/,L).replace(/__pagy_limit__/,E);return[L,P]},D)},F=(z,B,M)=>{const D=z.querySelector("input"),E=z.querySelector("a"),L=D.value,P=function(){if(D.value===L)return;const[T,X,G]=[D.min,D.value,D.max].map((Z)=>parseInt(Z)||0);if(X<T||X>G){D.value=L,D.select();return}let[H,Q]=B(D.value);if(typeof M?.page_param==="string"&&H==="1")Q=U(Q,M.page_param);E.href=Q,E.click()};["change","focus"].forEach((T)=>D.addEventListener(T,()=>D.select())),D.addEventListener("focusout",P),D.addEventListener("keypress",(T)=>{if(T.key==="Enter")P()})},U=(z,B)=>z.replace(new RegExp(`[?&]${B}=1\\b(?!&)|\\b${B}=1&`),"");return{version:"9.3.3",init(z){const M=(z instanceof Element?z:document).querySelectorAll("[data-pagy]");for(let D of M)try{const[E,...L]=JSON.parse($.decode(D.getAttribute("data-pagy")));if(E==="nav")W(D,L);else if(E==="nav_js")N(D,L);else if(E==="combo_js")x(D,L);else if(E==="selector_js")J(D,L);else console.warn("Skipped Pagy.init(): %o\nUnknown keyword '%s'",D,E)}catch(E){console.warn("Skipped Pagy.init(): %o\n%s",D,E)}}}})();

//# debugId=93F1AF5D099ADE0164756E2164756E21
//# sourceMappingURL=pagy.min.js.map
