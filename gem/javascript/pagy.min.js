window.Pagy=(()=>{const D="sessionStorage"in window&&"BroadcastChannel"in window;let $="pagy",X,j,E;if(D)X=sessionStorage,j=new BroadcastChannel($),E=Date.now(),j.addEventListener("message",(q)=>{if(q.data.from){const z=X.getItem(q.data.key);if(z)j.postMessage({to:q.data.from,key:q.data.key,str:z})}else if(q.data.to){if(q.data.to==E)X.setItem(q.data.key,q.data.str)}});const U=new ResizeObserver((q)=>q.forEach((z)=>{z.target.querySelectorAll(".pagy-rjs").forEach((F)=>F.render())})),N=(q)=>btoa(String.fromCharCode(...new TextEncoder().encode(q))).replace(/[+/=]/g,(z)=>z=="+"?"-":z=="/"?"_":""),_=(q)=>new TextDecoder().decode(Uint8Array.from(atob(q),(z)=>z.charCodeAt(0))),B=()=>Math.floor(Math.random()*46656).toString(36),O=async(q,[z,F,G,H])=>{let M;const Q=document.cookie.split(/;\s+/).find((L)=>L.startsWith($+"="))?.split("=")[1]??B();if(document.cookie=$+"="+Q,z&&!(z in X)){if(j.postMessage({from:E,key:z}),await new Promise((L)=>setTimeout(()=>L(""),100)),!(z in X))M=(L)=>L+"+"+G}if(!M){if(!z)do z=B();while(z in X);const L=X.getItem(z),R=L?JSON.parse(L):[void 0];if(H)R.splice(...H),X.setItem(z,JSON.stringify(R));M=(T)=>{const Y=parseInt(T);return N(JSON.stringify([Q,z,Y,R.length,R[Y-1],R[Y]]))}}for(let L of q.querySelectorAll("a[href]")){const R=L.href,T=new RegExp(`(?<=\\?.*)\\b${F}=(\\d+)`);L.href=R.replace(T,F+"="+M(R.match(T)[1]))}return M},x=(q,[[z,F,G,H,M],[Q,L,R],T])=>{const Y=q.parentElement;let J=-1;if((q.render=()=>{const C=Q.findIndex((Z)=>Z<Y.clientWidth);if(Q[C]===J)return;let P=z;if(L[C].forEach((Z,I)=>{P+=Z=="gap"?H:(typeof Z=="number"?F.replace("P ",Z):G).replace("L<",R?.[C][I]??Z+"<")}),P+=M,q.innerHTML="",q.insertAdjacentHTML("afterbegin",P),J=Q[C],T&&D)O(q,T)})(),q.classList.contains($+"-rjs"))U.observe(Y)},S=async(q,[z,F])=>{const G=F&&D?await O(q,F):(H)=>H;W(q,(H)=>z.replace("P ",G(H)))},V=(q,[z,F])=>{W(q,(G)=>{return F.replace("P ",Math.max(Math.ceil(z/parseInt(G)),1)).replace("L ",G)})},W=(q,z)=>{const F=q.querySelector("input"),G=q.querySelector("a"),H=F.value,M=()=>{if(F.value===H)return;const[Q,L,R]=[F.min,F.value,F.max].map((T)=>parseInt(T)||0);if(L<Q||L>R){F.value=H,F.select();return}G.href=z(F.value),G.click()};["change","focus"].forEach((Q)=>F.addEventListener(Q,()=>F.select())),F.addEventListener("focusout",M),F.addEventListener("keypress",(Q)=>{if(Q.key=="Enter")M()})};return{version:"9.3.3",init(q){const z=q instanceof HTMLElement?q:document,F=z.querySelectorAll("[data-pagy]");for(let G of F)try{const[H,...M]=JSON.parse(_(G.getAttribute("data-pagy")));if(H=="n")O(G,...M);else if(H=="nj")x(G,M);else if(H=="cj")S(G,M);else if(H=="sj")V(G,M)}catch(H){console.warn("Pagy.init: %o\n%s",G,H)}}}})();
