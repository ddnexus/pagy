<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-root" content="/pagy">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="2.4.0.725081627477">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 2.4.0">

    <!-- Primary Meta Tags -->
    <title>Calendar | Pagy</title>
    <meta name="title" content="Calendar | Pagy">
    <meta name="description" content="Add pagination filtering by calendar time unit: year, quarter, month, week, day (and your own custom time units" />

    <!-- Canonical -->
    <link rel="canonical" href="https://ddnexus.github.io/pagy/docs/extras/calendar/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ddnexus.github.io/pagy/docs/extras/calendar/">
    <meta property="og:title" content="Calendar | Pagy">
    <meta property="og:description" content="Add pagination filtering by calendar time unit: year, quarter, month, week, day (and your own custom time units">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ddnexus.github.io/pagy/docs/extras/calendar/">
    <meta property="twitter:title" content="Calendar | Pagy">
    <meta property="twitter:description" content="Add pagination filtering by calendar time unit: year, quarter, month, week, day (and your own custom time units">

    <script>(function () { var el = document.documentElement, m = localStorage.getItem("/pagy/doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../../resources/css/retype.css?v=2.4.0.725081627477" rel="stylesheet" />

    <script type="text/javascript" src="../../../resources/js/config.js?v=2.4.0.725081627477" data-turbo-eval="false" defer></script>
    <script type="text/javascript" src="../../../resources/js/retype.js?v=2.4.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" type="text/javascript" src="../../../resources/js/lunr.js?v=2.4.0.725081627477" data-turbo-eval="false" defer></script>
    <script id="prism-js" type="text/javascript" src="../../../resources/js/prism.js?v=2.4.0.725081627477" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between grow pr-6 md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../../" class="flex items-center leading-snug text-2xl">
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">Pagy</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">6.0.0</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <symbol id="mark-github-icon-symbol" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></symbol><use xlink:href="#mark-github-icon-symbol" />
                                        </g>
                                    </svg>
                                    <span>Github</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/issues" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path fill-rule="evenodd" d="M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 13a2 2 0 100-4 2 2 0 000 4z"/>
                                        </g>
                                    </svg>
                                    <span>Issues</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/discussions/categories/q-a" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path fill-rule="evenodd" d="M1.75 1A1.75 1.75 0 000 2.75v9.5C0 13.216.784 14 1.75 14H3v1.543a1.457 1.457 0 002.487 1.03L8.061 14h6.189A1.75 1.75 0 0016 12.25v-9.5A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v9.5a.25.25 0 01-.25.25h-6.5a.75.75 0 00-.53.22L4.5 15.44v-2.19a.75.75 0 00-.75-.75h-2a.25.25 0 01-.25-.25v-9.5z"/><path d="M22.5 8.75a.25.25 0 00-.25-.25h-3.5a.75.75 0 010-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0122.25 20H21v1.543a1.457 1.457 0 01-2.487 1.03L15.939 20H10.75A1.75 1.75 0 019 18.25v-1.465a.75.75 0 011.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 01.53.22l2.72 2.72v-2.19a.75.75 0 01.75-.75h2a.25.25 0 00.25-.25v-9.5z"/>
                                        </g>
                                    </svg>
                                    <span>Q&amp;A</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/discussions" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path fill-rule="evenodd" d="M1.75 1A1.75 1.75 0 000 2.75v9.5C0 13.216.784 14 1.75 14H3v1.543a1.457 1.457 0 002.487 1.03L8.061 14h6.189A1.75 1.75 0 0016 12.25v-9.5A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v9.5a.25.25 0 01-.25.25h-6.5a.75.75 0 00-.53.22L4.5 15.44v-2.19a.75.75 0 00-.75-.75h-2a.25.25 0 01-.25-.25v-9.5z"/><path d="M22.5 8.75a.25.25 0 00-.25-.25h-3.5a.75.75 0 010-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0122.25 20H21v1.543a1.457 1.457 0 01-2.487 1.03L15.939 20H10.75A1.75 1.75 0 019 18.25v-1.465a.75.75 0 011.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 01.53.22l2.72 2.72v-2.19a.75.75 0 01.75-.75h2a.25.25 0 00.25-.25v-9.5z"/>
                                        </g>
                                    </svg>
                                    <span>Discussions</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://gitter.im/ruby-pagy/Lobby" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M16.5 2.25a.75.75 0 01.75-.75h5.5a.75.75 0 01.75.75v5.5a.75.75 0 01-1.5 0V4.06l-6.22 6.22a.75.75 0 11-1.06-1.06L20.94 3h-3.69a.75.75 0 01-.75-.75z"/><path d="M3.25 4a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 01.75.75v3.19l3.72-3.72a.75.75 0 01.53-.22h10a.25.25 0 00.25-.25v-6a.75.75 0 011.5 0v6a1.75 1.75 0 01-1.75 1.75h-9.69l-3.573 3.573A1.457 1.457 0 015 21.043V18.5H3.25a1.75 1.75 0 01-1.75-1.75V4.25c0-.966.784-1.75 1.75-1.75h11a.75.75 0 010 1.5h-11z"/>
                                        </g>
                                    </svg>
                                    <span>Archived Support</span>
                                </a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
        
                            <input class="w-full h-10 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 placeholder-gray-400 dark:placeholder-dark-400"
                            style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search" />
                        </div>
        
                        <!-- Mobile search button mock -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placehokder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button mock -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter" />
                </div>
            
                <div class="pl-6 mb-4 mt-1">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <symbol id="mark-github-icon-symbol" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></symbol><use xlink:href="#mark-github-icon-symbol" />
                                                </g>
                                            </svg>
                                            <span>Github</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/issues" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path fill-rule="evenodd" d="M2.5 12a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0zM12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 13a2 2 0 100-4 2 2 0 000 4z"/>
                                                </g>
                                            </svg>
                                            <span>Issues</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/discussions/categories/q-a" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path fill-rule="evenodd" d="M1.75 1A1.75 1.75 0 000 2.75v9.5C0 13.216.784 14 1.75 14H3v1.543a1.457 1.457 0 002.487 1.03L8.061 14h6.189A1.75 1.75 0 0016 12.25v-9.5A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v9.5a.25.25 0 01-.25.25h-6.5a.75.75 0 00-.53.22L4.5 15.44v-2.19a.75.75 0 00-.75-.75h-2a.25.25 0 01-.25-.25v-9.5z"/><path d="M22.5 8.75a.25.25 0 00-.25-.25h-3.5a.75.75 0 010-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0122.25 20H21v1.543a1.457 1.457 0 01-2.487 1.03L15.939 20H10.75A1.75 1.75 0 019 18.25v-1.465a.75.75 0 011.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 01.53.22l2.72 2.72v-2.19a.75.75 0 01.75-.75h2a.25.25 0 00.25-.25v-9.5z"/>
                                                </g>
                                            </svg>
                                            <span>Q&amp;A</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/ddnexus/pagy/discussions" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path fill-rule="evenodd" d="M1.75 1A1.75 1.75 0 000 2.75v9.5C0 13.216.784 14 1.75 14H3v1.543a1.457 1.457 0 002.487 1.03L8.061 14h6.189A1.75 1.75 0 0016 12.25v-9.5A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v9.5a.25.25 0 01-.25.25h-6.5a.75.75 0 00-.53.22L4.5 15.44v-2.19a.75.75 0 00-.75-.75h-2a.25.25 0 01-.25-.25v-9.5z"/><path d="M22.5 8.75a.25.25 0 00-.25-.25h-3.5a.75.75 0 010-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0122.25 20H21v1.543a1.457 1.457 0 01-2.487 1.03L15.939 20H10.75A1.75 1.75 0 019 18.25v-1.465a.75.75 0 011.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 01.53.22l2.72 2.72v-2.19a.75.75 0 01.75-.75h2a.25.25 0 00.25-.25v-9.5z"/>
                                                </g>
                                            </svg>
                                            <span>Discussions</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://gitter.im/ruby-pagy/Lobby" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M16.5 2.25a.75.75 0 01.75-.75h5.5a.75.75 0 01.75.75v5.5a.75.75 0 01-1.5 0V4.06l-6.22 6.22a.75.75 0 11-1.06-1.06L20.94 3h-3.69a.75.75 0 01-.75-.75z"/><path d="M3.25 4a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 01.75.75v3.19l3.72-3.72a.75.75 0 01.53-.22h10a.25.25 0 00.25-.25v-6a.75.75 0 011.5 0v6a1.75 1.75 0 01-1.75 1.75h-9.69l-3.573 3.573A1.457 1.457 0 015 21.043V18.5H3.25a1.75 1.75 0 01-1.75-1.75V4.25c0-.966.784-1.75 1.75-1.75h11a.75.75 0 010 1.5h-11z"/>
                                                </g>
                                            </svg>
                                            <span>Archived Support</span>
                                        </a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="grow min-w-0 px-6 md:px-16">
                        <main class="relative pt-6 pb-16">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                
                                <!-- Page content  -->
<doc-anchor-target id="calendar-extra" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#calendar-extra">#</doc-anchor-trigger>
        <span>Calendar Extra</span>
    </h1>
</doc-anchor-target>
<div class="-mt-3 mb-12 flex flex-wrap text-sm text-gray-400 dark:text-dark-350 items-center">
    <div>In&nbsp;</div>
    <div><a href="../../../categories/backend/">Backend</a>,&nbsp;</div>
    <div><a href="../../../categories/extras/">Extras</a></div>
</div>

<p>Add pagination filtering by calendar time unit: year, quarter, month, week, day (and your own <a href="../../api/calendar/#custom-units">custom time units</a>).</p>
<p>This extra adds single or multiple chained calendar navs that act as calendar filters on the collection records, placing each record in its time unit.</p>
<p><figure class="content-center">
    <img src="../../assets/images/calendar-app.png" alt="calendar_app" />
    <figcaption class="caption">calendar_app</figcaption>
</figure>
<em>Screenshot from the single-file self-contained <a href="https://github.com/ddnexus/pagy/blob/master/apps/pagy_calendar_app.ru">pagy_calendar_app.ru</a> demo</em></p>
<doc-anchor-target id="use-cases">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#use-cases">#</doc-anchor-trigger>
        <span>Use cases</span>
    </h2>
</doc-anchor-target>
<p>This extra makes sense when the result to paginate have some <em>time continuity</em> and you want to provide a simple chronological browsing. For example: a movie catalog could allow the user to browse all the movies by year, or you may want to browse a long list of events by jumping and narrowing between years, months, days.</p>
<p>On the other hand it does not make much sense for the result of a search that hits just a few sparse records scattered over a possibly long period of time. For that case the calendar extra has an <code v-pre>:active</code> flag that can be used to inactivate the calendar and fallback to the regular pagination. No need to maintain different UIs for wide browsing and narrow searching.</p>
<doc-anchor-target id="synopsis">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#synopsis">#</doc-anchor-trigger>
        <span>Synopsis</span>
    </h2>
</doc-anchor-target>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>initializer (pagy.rb)</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby">require 'pagy/extras/calendar'</code></pre>
</doc-codeblock></div>
    </div>
</div>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>controller</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby"># e.g. application_controller.rb
def pagy_calendar_period(collection)
  return_period_array_using(collection)
end

# e.g. application_controller.rb
def pagy_calendar_filter(collection, from, to)
  return_filtered_collection_using(collection, from, to)
end

# some action:
def index
  @calendar, @pagy, @records = pagy_calendar(collection, year:  { size:  [1, 1, 1, 1], ... },
                                                       month: { size:  [0, 12, 12, 0], ... },
                                                       pagy:  { items: 10, ...})
end</code></pre>
</doc-codeblock></div>
    </div>
</div>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>view (template)</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-erb"><code v-pre class="language-erb">&lt;!-- calendar filtering --&gt;
&lt;%== pagy_nav(@calendar[:year]) %&gt;
&lt;%== pagy_nav(@calendar[:month]) %&gt;

&lt;!-- pagy info extended for the calendar unit --&gt;
&lt;%== pagy_info(@pagy) %&gt; for &lt;%== @calendar[:month].label(format: '%B %Y') %&gt;

... display @records ...

&lt;!-- standard pagination of the selected month --&gt;
&lt;%== pagy_nav(@pagy) %&gt;</code></pre>
</doc-codeblock></div>
    </div>
</div>
<p>See also a few examples about <a href="../../how-to/#wrap-existing-pagination-with-pagy_calendar">How to wrap existing pagination with pagy_calendar</a>.</p>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Demo App</h5>
<p>For a complete and detailed example, see the <a href="https://github.com/ddnexus/pagy/blob/master/apps/pagy_calendar_app.ru">pagy_calendar_app.ru</a>.</p>
        </div>
    </div>
</div>
<doc-anchor-target id="usage">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#usage">#</doc-anchor-trigger>
        <span>Usage</span>
    </h2>
</doc-anchor-target>
<p>Since the time can be stored or calculated in many different ways in different collections, this extra requires you to implement a couple of simple methods in your app and configure the objects that it creates and coordinates for you.</p>
<p>The whole usage boils down to these steps:</p>
<ol>
<li>Configure the <doc-anchor-trigger to="#pagy-calendar-collection-configuration">pagy_calendar</doc-anchor-trigger> method in your action</li>
<li>Define the <doc-anchor-trigger to="#pagy-calendar-period-collection">pagy_calendar_period</doc-anchor-trigger> method in your controller</li>
<li>Define the <doc-anchor-trigger to="#pagy-calendar-filter-collection-from-to">pagy_calendar_filter</doc-anchor-trigger> method in your controller</li>
<li>Use it in your UI</li>
</ol>
<p>You can play with a quick demo app, working without any additional configuration with:</p>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>shell</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">git clone --depth 1 https://github.com/ddnexus/pagy
cd pagy
rackup -o 0.0.0.0 -p 8080 apps/pagy_calendar_app.ru</code></pre>
</doc-codeblock></div>
    </div>
</div>
<p>Then point your browser to <a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a>.</p>
<doc-anchor-target id="variables-and-accessors">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#variables-and-accessors">#</doc-anchor-trigger>
        <span>Variables and Accessors</span>
    </h2>
</doc-anchor-target>
<p>See <a href="../../api/calendar/#variables">Pagy::Calendar</a></p>
<doc-anchor-target id="files">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#files">#</doc-anchor-trigger>
        <span>Files</span>
    </h2>
</doc-anchor-target>
<ul>
<li><a href="https://github.com/ddnexus/pagy/blob/master/lib/pagy/extras/calendar.rb">calendar.rb</a></li>
</ul>
<doc-anchor-target id="methods">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#methods">#</doc-anchor-trigger>
        <span>Methods</span>
    </h2>
</doc-anchor-target>
<p>All the methods in this module are prefixed with the <code v-pre>&quot;pagy_calendar&quot;</code> string in order to avoid any possible conflict with your own methods when you include the module in your controller. They are also all private, so they will not be available as actions.</p>
<doc-panels>
   <doc-panel id="pagy-calendar-collection-configuration" collapsed>
       <template #title><code v-pre>pagy_calendar(collection, configuration)</code></template>
<p>This method wraps one or more levels of calendar filtering on top of another backend pagination method (e.g. <code v-pre>pagy</code>, <code v-pre>pagy_arel</code>, <code v-pre>pagy_array</code>, <code v-pre>pagy_searchkick</code>, <code v-pre>pagy_elasticsearch_rails</code>, <code v-pre>pagy_meilisearch</code>, ...).</p>
<p>It filters the <code v-pre>collection</code> by the selected time units in the <code v-pre>configuration</code> (e.g. <code v-pre>year</code>, <code v-pre>month</code>, <code v-pre>day</code>, ...), and forwards it to the wrapped method.</p>
<p>It returns an array with one more item than the usual two:</p>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>controller</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby">@calendar, @pagy, @results = pagy_calendar(...)</code></pre>
</doc-codeblock></div>
    </div>
</div>
<p>The <code v-pre>@calendar</code> contains the hash of the generated <code v-pre>Pagy::Calendar::*</code> objects that can be used in the UI.</p>
<doc-anchor-target id="collection-argument">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#collection-argument">#</doc-anchor-trigger>
        <span><code v-pre>collection</code> argument</span>
    </h3>
</doc-anchor-target>
<p>The <code v-pre>collection</code> argument (from <code v-pre>ActiveRecord</code>, <code v-pre>ElasticSearchRails</code>, <code v-pre>Searchkick</code>, <code v-pre>Meilisearch</code>, ...) is filtered by the <code v-pre>pagy_calendar_filter</code> and forwarded to the wrapped method for its final pagination, so ensure that you pass the same type of argument expected by the wrapped method.</p>
<doc-anchor-target id="configuration-argument">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#configuration-argument">#</doc-anchor-trigger>
        <span><code v-pre>configuration</code> argument</span>
    </h3>
</doc-anchor-target>
<p>The <code v-pre>configuration</code> argument must be a Hash structure with the keys representing the type of configuration and the values being the Hash of the variables that you want to pass for the creation of the specific pagy object (or a <code v-pre>boolean</code> for the <doc-anchor-trigger to="#active-flag">Active flag</doc-anchor-trigger>).</p>
<p>The <code v-pre>configuration</code> hash can be composed by the following types of configuration:</p>
<doc-anchor-target id="calendar-configuration">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#calendar-configuration">#</doc-anchor-trigger>
        <span>Calendar configuration</span>
    </h4>
</doc-anchor-target>
<p>The calendar configuration determines the calendar objects generated. These are used for filtering the collection to the selected time units.</p>
<p>You can add one or more levels with keys like <code v-pre>:year</code>, <code v-pre>:quarter</code>, <code v-pre>:month</code>, <code v-pre>:week</code>, <code v-pre>:day</code>. Each key must be set to the hash of the variables that will be used to initialize the relative <code v-pre>Pagy::Calendar::*</code> object. Use an empty hash for default values. E.g.: <code v-pre>year: {}, month: {}, ...</code>.</p>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-yellow-500"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-yellow-500" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M22.48 15.59L14.01 1.45A2.968 2.968 0 0012.16.09c-.78-.19-1.58-.07-2.27.35-.41.25-.76.6-1.01 1.01v.01L.4 15.6c-.83 1.43-.33 3.27 1.1 4.1.45.26.95.4 1.48.4h16.95c.8-.01 1.55-.33 2.11-.9.56-.57.87-1.33.86-2.13a3.04 3.04 0 00-.42-1.48zm-1.87 2.21c-.19.19-.44.3-.69.3H2.99c-.17 0-.34-.05-.49-.13a.992.992 0 01-.37-1.35L10.6 2.48c.08-.14.2-.25.34-.33a.992.992 0 011.37.33l8.46 14.13c.09.15.13.32.13.49 0 .26-.1.51-.29.7z"></path>
                    <path d="M11.45 12.1c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .56.45 1 1 1zM11.46 14.1c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Do not set <code v-pre>:page</code>, <code v-pre>:page_param</code>, <code v-pre>:params</code> and <code v-pre>:period</code> keys</h5>
<p>The <code v-pre>:page</code>, <code v-pre>:page_param</code>, <code v-pre>:params</code> and <code v-pre>:period</code> variables for the calendar objects are managed automatically by the extra. Setting them explicitly has no effect. (See also <doc-anchor-trigger to="#calendar-params">Calendar params</doc-anchor-trigger> for solutions in case of conflicts)</p>
        </div>
    </div>
</div>
<doc-anchor-target id="pagy-configuration">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#pagy-configuration">#</doc-anchor-trigger>
        <span>Pagy configuration</span>
    </h4>
</doc-anchor-target>
<p>This is the optional configuration of the final pagination object (produced by the wrapped method) which is always used regardless the value of the <doc-anchor-trigger to="#active-flag">Active flag</doc-anchor-trigger>.</p>
<p>You can pass one optional <code v-pre>:pagy</code> key, set to the hash of the variables to initialize the <code v-pre>Pagy</code> object. It has none of the restriction mentioned in the <doc-anchor-trigger to="#calendar-configuration">Calendar configuration</doc-anchor-trigger>.</p>
<p>Besides the usual pagy variables, you can add a <code v-pre>:backend</code> variable, set to the name of the backend extra method that you want to use for managing the collection:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby">{ pagy: { backend: :pagy_searchkick, items: 10, ... } }</code></pre>
</doc-codeblock></div>
<p>Notice that the <code v-pre>collection</code> argument must be exactly what you would pass to the wrapped backend method.</p>
<p>If the <code v-pre>:pagy</code> key/value is omitted, a default <code v-pre>Pagy</code> instance will be created by the default <code v-pre>:pagy</code> backend method.</p>
<doc-anchor-target id="active-flag">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#active-flag">#</doc-anchor-trigger>
        <span>Active flag</span>
    </h4>
</doc-anchor-target>
<p>The calendar is active by default, however you can add an optional <code v-pre>:active</code> boolean flag to the <code v-pre>configuration</code> hash in order to switch it ON or OFF, depending on its usefulness in different conditions (see the <doc-anchor-trigger to="#use-cases">Use cases</doc-anchor-trigger>).</p>
<p>Take a look at the <a href="https://github.com/ddnexus/pagy/blob/master/apps/pagy_calendar_app.ru">pagy_calendar_app.ru</a> for a simple example of a manual toggle in the UI.</p>
   </doc-panel>
   <doc-panel id="pagy-calendar-period-collection" collapsed>
       <template #title><code v-pre>pagy_calendar_period(collection)</code></template>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Must implement</h5>
<p>This method must be implemented by the application.</p>
        </div>
    </div>
</div>
<p>It receives a <code v-pre>collection</code> argument that must not be changed by the method, but can be used to return the starting and ending local <code v-pre>TimeWithZone</code> objects array defining the calendar <code v-pre>:period</code>. See the <a href="../../api/calendar/#variables">Pagy::Calendar Variables</a> for details.</p>
<p>Depending on the type of storage, the <code v-pre>collection</code> argument can contain a different kind of object:</p>
<doc-anchor-target id="activerecord-managed-storage">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#activerecord-managed-storage">#</doc-anchor-trigger>
        <span>ActiveRecord managed storage</span>
    </h4>
</doc-anchor-target>
<p>If you use <code v-pre>ActiveRecord</code> the <code v-pre>collection</code> is going to be an <code v-pre>ActiveRecord::Relation</code> object. You can use it to return the starting and ending local <code v-pre>TimeWithZone</code> objects array. Here are a few examples with the <code v-pre>created_at</code> field (but you can pull the time from anywhere):</p>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>controller</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby"># Simpler version (2 queries)
def pagy_calendar_period(collection)
  starting = collection.minimum('created_at')
  ending   = collection.maximum('created_at') 
  [starting.in_time_zone, ending.in_time_zone]
end

# Faster version with manual pluck (1 query)
def pagy_calendar_period(collection)
  minmax = collection.pluck('MIN(created_at)', 'MAX(created_at)').first
  minmax.map { |time| Time.parse(time).in_time_zone }
end

# Fastest version (no queries)
# If you have the starting and ending times in the request (from UI selectors), 
# filter the collection by the param before passing it to `pagy_calendar`. 
# In this example you just use the :starting and :ending params to return the period
def pagy_calendar_period(collection)
  params.fetch_values(:starting, :ending).map { |time| Time.parse(time).in_time_zone }
end</code></pre>
</doc-codeblock></div>
    </div>
</div>
<p>See also <a href="../../api/calendar/#time-conversions">Time conversion</a> for details.</p>
<doc-anchor-target id="search-frameworks-storage">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#search-frameworks-storage">#</doc-anchor-trigger>
        <span>Search frameworks storage</span>
    </h4>
</doc-anchor-target>
<p><em>If you use <code v-pre>ElasticSearchRails</code>, <code v-pre>Searchkick</code>, <code v-pre>Meilisearch</code> the <code v-pre>collection</code> argument is just the Array of the captured search arguments that you passed to the <code v-pre>Model.pagy_search</code> method. That array is what pagy uses internally to setup its variables before passing it to the standard <code v-pre>Model.search</code> method to do the actual search.</em></p>
<p>So you should use what you need from the <code v-pre>collection</code> array and do your own <code v-pre>Model.search(...)</code> in order to get the starting and ending local <code v-pre>TimeWithZone</code> objects array to return.</p>
   </doc-panel>
   <doc-panel id="pagy-calendar-filter-collection-from-to" collapsed>
       <template #title><code v-pre>pagy_calendar_filter(collection, from, to)</code></template>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Must implement</h5>
<p>This method must be implemented by the application.</p>
        </div>
    </div>
</div>
<p>It receives the main <code v-pre>collection</code> and must return a filtered version of it using the <code v-pre>from</code> and <code v-pre>to</code> <strong>local Time</strong> objects.</p>
<p>You should filter your collection with a logic equivalent to <code v-pre>storage_time &gt;= from &amp;&amp; storage_time &lt; to</code>, adapted to the time zone and syntax of your storage.</p>
<p>Depending on the type of storage, the <code v-pre>collection</code> argument can contain a different kind of object:</p>
<doc-anchor-target id="activerecord-managed-storage-1">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#activerecord-managed-storage-1">#</doc-anchor-trigger>
        <span>ActiveRecord managed storage</span>
    </h4>
</doc-anchor-target>
<p>If you use <code v-pre>ActiveRecord</code> the <code v-pre>collection</code> is going to be an <code v-pre>ActiveRecord::Relation</code> object that you can easily filter. Here is an example with the <code v-pre>created_at</code> field again (but you can use anything, of course):</p>
<div class="mb-6 overflow-hidden border rounded-md docs-columns dark:border-dark-650" style="grid-template-columns: repeat(1, minmax(0, 1fr));">
    <div class="flex items-center px-5 py-3 font-mono leading-snug text-white docs-columns-code-title">
        <span>controller</span>
    </div>
    <div class="docs-columns-code docs-columns-content">
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-ruby"><code v-pre class="language-ruby">def pagy_calendar_filter(collection, from, to)
  collection.where(created_at: from...to)  # 3-dots range excluding the end value
end</code></pre>
</doc-codeblock></div>
    </div>
</div>
<p>See also <a href="../../api/calendar/#time-conversions">Time conversion</a> for details.</p>
<doc-anchor-target id="search-frameworks-storage-1">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#search-frameworks-storage-1">#</doc-anchor-trigger>
        <span>Search frameworks storage</span>
    </h4>
</doc-anchor-target>
<p><em>If you use <code v-pre>ElasticSearchRails</code>, <code v-pre>Searchkick</code>, <code v-pre>Meilisearch</code> the <code v-pre>collection</code> argument is just the Array of the captured search arguments that you passed to the <code v-pre>Model.pagy_search</code> method. That array is what pagy uses internally to setup its variables before passing it to the standard <code v-pre>Model.search</code> method to do the actual search.</em></p>
<p>So in order to filter the actual search with the <code v-pre>from</code> and <code v-pre>to</code> local <code v-pre>TimeWithZone</code> objects, you should simply return the same array with the filtering added to its relevant item. Pagy will use it to do the actual (filtered) search.</p>
   </doc-panel>
</doc-panels>
<doc-anchor-target id="customization">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#customization">#</doc-anchor-trigger>
        <span>Customization</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="order">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#order">#</doc-anchor-trigger>
        <span>Order</span>
    </h3>
</doc-anchor-target>
<p>If you set <code v-pre>:order</code> to <code v-pre>:desc</code>, you will get the page units in descendent order (e.g. May, then April, then March, ...), but keep in mind that you still have to desc-order the records in the collection since pagy has no control over that (indeed it&#x27;s your own collection scope).</p>
<doc-anchor-target id="beginning-of-week">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#beginning-of-week">#</doc-anchor-trigger>
        <span>Beginning of week</span>
    </h3>
</doc-anchor-target>
<p>If you use the <code v-pre>:week</code> time unit, consider that the first day of the week could be different for different locales.</p>
<p>You may want to adjust it by setting the <code v-pre>Date.beginning_of_week</code> variable to the symbol of the first day of the week (e.g. <code v-pre>Date.beginning_of_week = :sunday</code>). Notice the default is <code v-pre>:monday</code> consistently with the ISO-8601 standard (and Rails).</p>
<doc-anchor-target id="calendar-params">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#calendar-params">#</doc-anchor-trigger>
        <span>Calendar params</span>
    </h3>
</doc-anchor-target>
<p>This extra handles the request params of its objects automatically, and you should not need to customize them unless they conflict with other params in your requests. In that case you have a couple of alternatives:</p>
<ul>
<li>Renaming the conflicting param of your app</li>
<li>Passing a custom <code v-pre>:page_param</code> to the <doc-anchor-trigger to="#pagy-configuration">Pagy configuration</doc-anchor-trigger>. That will internally rename the <code v-pre>:page_param</code> vars and update the <code v-pre>:params</code> procs of all the calendar objects accordingly.</li>
</ul>
<doc-anchor-target id="view">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#view">#</doc-anchor-trigger>
        <span>View</span>
    </h2>
</doc-anchor-target>
<p>You can use the calendar objects with any <code v-pre>pagy_*nav</code> and <code v-pre>pagy_*nav_js</code> helpers or any templates in your views.</p>
<p>The <code v-pre>pagy_*combo_nav_js</code> keeps into account only page numbers and not labels, so it is not very useful (if at all) with <code v-pre>Pagy::Calendar::*</code> objects.</p>
<doc-panel id="pagy-calendar-url-at-calendar-time" collapsed>
    <template #title><code v-pre>pagy_calendar_url_at(@calendar, time)</code></template>
<p>This helper takes the <code v-pre>@calendar</code> and a <code v-pre>TimeWithZone</code> objects and returns the url complete with all the params for the pages in each bars that include the passed time.</p>
<p>For example: <code v-pre>pagy_calendar_url_at(@calendar, Time.zone.now)</code> will select the the bars pointing to today. You can see a working example in the <a href="https://github.com/ddnexus/pagy/blob/master/apps/pagy_calendar_app.ru">pagy_calendar_app.ru</a> file.</p>
<p>If <code v-pre>time</code> is outside the pagination range it raises a <code v-pre>Pagy::Calendar::OutOfRangeError</code>.</p>
</doc-panel>
<doc-anchor-target id="label-format">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#label-format">#</doc-anchor-trigger>
        <span>Label format</span>
    </h3>
</doc-anchor-target>
<p>Each page link in the calendar navs is conveniently labeled with the specific <code v-pre>Time</code> period it refers to. You can change the time format to your needs by setting the <code v-pre>:format</code> variable to a standard <code v-pre>strftime</code> format. (See the <a href="../../api/calendar/#variables">Pagy::Calendar variables</a>)</p>
<p>You can also get the <a href="../../api/calendar/#methods">label method</a> with e.g.: <code v-pre>@calendar[:month].label</code>, which might be useful to use in your UI.</p>
<doc-anchor-target id="i18n-localization">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#i18n-localization">#</doc-anchor-trigger>
        <span>I18n localization</span>
    </h3>
</doc-anchor-target>
<p>Pagy implements its own faster version of the i18n <code v-pre>translate</code> method (i.e. <code v-pre>pagy_t</code>), but does not provide any built-in <code v-pre>localize</code> method. If you need localization of calendar labels in other locales, you should delegate it to the <code v-pre>I18n</code> gem, so that a change in the global <code v-pre>I18n.locale</code> will automatically localize all the time labels accordingly.</p>
<p>You have a couple of options:</p>
<ul>
<li>Use the <a href="../i18n/">i18n extra</a>, which delegates the translation and localization to the <code v-pre>I18n</code> gem. Notice however that you would lose the performance gain offered by the built-in <code v-pre>pagy_t</code> translation.</li>
<li>Uncomment the block in the calendar section in the <a href="https://github.com/ddnexus/pagy/blob/master/lib/config/pagy.rb">pagy.rb</a> initializer, which will add the localization from the <code v-pre>I18n</code> gem without using the <a href="../i18n/">i18n extra</a>, so preserving the builtin <code v-pre>pagy_t</code> translation.</li>
</ul>
<doc-anchor-target id="caveats">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#caveats">#</doc-anchor-trigger>
        <span>Caveats</span>
    </h2>
</doc-anchor-target>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-yellow-500"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-yellow-500" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M22.48 15.59L14.01 1.45A2.968 2.968 0 0012.16.09c-.78-.19-1.58-.07-2.27.35-.41.25-.76.6-1.01 1.01v.01L.4 15.6c-.83 1.43-.33 3.27 1.1 4.1.45.26.95.4 1.48.4h16.95c.8-.01 1.55-.33 2.11-.9.56-.57.87-1.33.86-2.13a3.04 3.04 0 00-.42-1.48zm-1.87 2.21c-.19.19-.44.3-.69.3H2.99c-.17 0-.34-.05-.49-.13a.992.992 0 01-.37-1.35L10.6 2.48c.08-.14.2-.25.34-.33a.992.992 0 011.37.33l8.46 14.13c.09.15.13.32.13.49 0 .26-.1.51-.29.7z"></path>
                    <path d="M11.45 12.1c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .56.45 1 1 1zM11.46 14.1c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
            <h5>Display Message when empty</h5>
<p>Calendar pages with no records are accessible but empty: you may want to display some message when <code v-pre>@records.empty?</code>.</p>
        </div>
    </div>
</div>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results />
                            </div>
                            <footer class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-blue-500 dark:text-blue-400 hover:text-blue-700 hover:underline" href="https://github.com/ddnexus/pagy/blob/master/docs/extras/calendar.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit this page</span>
                                    </a>
                                </div>
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../../docs/extras/bulma/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Bulma</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../../docs/extras/countless/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Countless</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p> 2017-2022 <a href="https://github.com/ddnexus">Domizio Demichelis</a> - <a href="https://opensource.org/licenses/MIT">MIT License</a></p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script>window.__DOCS__ = { "title": "Calendar", level: 3, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false }</script>
</body>
</html>
